<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Oodles Index Generator</title>
<style>
  body { font-family: Arial, sans-serif; padding: 30px; background: #f5f6fa; }
  img { width: 120px; display:block; margin: 0 auto 20px; }
  h1 { text-align: center; margin-bottom: 30px; }
  input, button { padding: 10px; font-size: 1rem; margin-bottom: 10px; width: 100%; max-width: 400px; display: block; margin-left:auto; margin-right:auto; }
  button { background: #487eb0; color: white; border: none; cursor: pointer; }
  button:hover { background: #40739e; }
  pre { background: white; padding: 20px; border-radius: 5px; overflow-x: auto; max-width: 90%; margin: 20px auto; }
</style>
</head>
<body>

<img src="https://stenoip.github.io/oodles/2025_10_28_0pb_Kleki.png" alt="Oodles Logo">
<h1>Oodles Index Generator</h1>

<input type="text" id="urlsInput" placeholder="Enter URLs separated by commas">
<button id="generateBtn">Generate index.json</button>

<h2>Results:</h2>
<pre id="results"></pre>
<p>Copyright Stenoip Company </p>
<script>
const generateBtn = document.getElementById('generateBtn');
const urlsInput = document.getElementById('urlsInput');
const resultsPre = document.getElementById('results');

generateBtn.addEventListener('click', async () => {
  const urls = urlsInput.value.split(',').map(u => u.trim()).filter(u => u);
  if (!urls.length) return alert('Enter at least one URL');

  resultsPre.textContent = 'Generating index.json...';

  try {
    const response = await fetch('https://oodles-backend.vercel.app/generate', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ urls })
    });
    const data = await response.json();
    resultsPre.textContent = JSON.stringify(data, null, 2);
  } catch (err) {
    resultsPre.textContent = 'Error: ' + err.message;
  }
});
</script>

</body>
</html>
